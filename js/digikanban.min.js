window.digikanban||(window.digikanban={},window.digikanban.scriptsLoaded=!1),window.digikanban.scriptsLoaded||(window.digikanban.init=function(){window.digikanban.load_list_script()},window.digikanban.load_list_script=function(){if(!window.digikanban.scriptsLoaded){var n=void 0,i=void 0;for(n in window.digikanban)for(i in window.digikanban[n].init&&window.digikanban[n].init(),window.digikanban[n])window.digikanban[n]&&window.digikanban[n][i]&&window.digikanban[n][i].init&&window.digikanban[n][i].init();window.digikanban.scriptsLoaded=!0}},window.digikanban.refresh=function(){var n=void 0,i=void 0;for(n in window.digikanban)for(i in window.digikanban[n].refresh&&window.digikanban[n].refresh(),window.digikanban[n])window.digikanban[n]&&window.digikanban[n][i]&&window.digikanban[n][i].refresh&&window.digikanban[n][i].refresh()},$(document).ready(window.digikanban.init)),window.digikanban.kanban={},window.digikanban.kanban.allowDrop=function(n){n.preventDefault()},window.digikanban.kanban.drag=function(n){n.dataTransfer.setData("text",n.target.id)},window.digikanban.kanban.drop=function(n){n.preventDefault();var i=n.dataTransfer.getData("text");n.target.appendChild(document.getElementById(i))},window.digikanban.kanban.addColumn=function(){var n=document.getElementById("kanban-board"),i=document.createElement("div"),a=(i.classList.add("kanban-column"),i.innerHTML=`
        <div class="kanban-column-header">
            <span class="column-name" ondblclick="window.digikanban.kanban.editColumn(this)">Nouvelle colonne</span>
            <i class="fas fa-pencil-alt edit-icon" onclick="window.digikanban.kanban.editColumn(this.previousElementSibling)"></i>
        </div>
        <div class="kanban-column-body" ondrop="window.digikanban.kanban.drop(event)" ondragover="window.digikanban.kanban.allowDrop(event)">
        </div>
        <div class="add-item">
            <button onclick="window.digikanban.kanban.showSelect(this)">+ Ajouter un objet</button>
        </div>
    `,document.querySelector(".kanban-add-column"));n.insertBefore(i,a)},window.digikanban.kanban.editColumn=function(i){var n=i.innerText;let a=document.createElement("input");a.type="text",a.value=n,a.classList.add("column-name-input"),a.addEventListener("keypress",function(n){"Enter"===n.key&&(i.innerText=a.value,i.style.display="inline",a.remove())}),i.style.display="none",i.parentNode.insertBefore(a,i),a.focus()},window.digikanban.kanban.showSelect=function(n){let a=n.closest(".kanban-column").querySelector(".kanban-column-body"),d=document.createElement("select"),e=(d.innerHTML=`
        <option value="">SÃ©lectionner un objet</option>
        <!-- Ajouter des options ici -->
    `,document.createElement("button"));e.innerText="Ajouter",e.onclick=function(){var n,i=d.value;i&&((n=document.createElement("div")).classList.add("kanban-card"),n.setAttribute("draggable","true"),n.ondragstart=window.digikanban.kanban.drag,n.innerText=i,a.appendChild(n)),d.remove(),e.remove()},a.appendChild(d),a.appendChild(e)};